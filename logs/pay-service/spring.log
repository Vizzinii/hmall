10:10:43:926  INFO 24800 --- [main] com.hmall.pay.PayApplication             : Starting PayApplication using Java 17.0.8 on VizziniTX3 with PID 24800 (F:\Project03\hmall\pay-service\target\classes started by 10951 in F:\Project03\hmall)
10:10:43:929 DEBUG 24800 --- [main] com.hmall.pay.PayApplication             : Running with Spring Boot v2.7.12, Spring v5.3.27
10:10:43:929  INFO 24800 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
10:10:44:589  INFO 24800 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f4189078-6c26-32e2-8989-552f40c97c57
10:10:44:919  INFO 24800 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
10:10:44:927  INFO 24800 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
10:10:44:927  INFO 24800 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
10:10:45:030  INFO 24800 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
10:10:45:030  INFO 24800 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1070 ms
10:10:45:155  INFO 24800 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
10:10:45:189  INFO 24800 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
10:10:45:947  INFO 24800 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
10:10:46:329  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of f4e137b0-250b-43cd-8186-d640b2fd47fd
10:10:46:397  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 29 ms to scan 1 urls, producing 3 keys and 6 values 
10:10:46:424  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 10 ms to scan 1 urls, producing 4 keys and 9 values 
10:10:46:433  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 3 keys and 10 values 
10:10:46:436  WARN 24800 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
10:10:46:443  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 5 values 
10:10:46:452  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 7 ms to scan 1 urls, producing 1 keys and 7 values 
10:10:46:460  INFO 24800 --- [main] org.reflections.Reflections              : Reflections took 6 ms to scan 1 urls, producing 2 keys and 8 values 
10:10:46:462  WARN 24800 --- [main] org.reflections.Reflections              : given scan urls are empty. set urls in the configuration
10:10:46:463  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] RpcClient init label, labels = {module=naming, source=sdk}
10:10:46:465  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
10:10:46:465  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
10:10:46:466  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
10:10:46:467  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Try to connect to server on start up, server: {serverIp = '192.168.232.136', server main port = 8848}
10:10:47:404  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Success to connect to server [192.168.232.136:8848] on start up, connectionId = 1730081447214_192.168.232.1_52018
10:10:47:404  INFO 24800 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Notify connected event to listeners.
10:10:47:404  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
10:10:47:405  INFO 24800 --- [main] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$990/0x0000023bd87b1cc8
10:10:47:451  INFO 24800 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
10:10:47:458  INFO 24800 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.214.1:8086 register finished
10:10:47:588  INFO 24800 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
10:10:47:590  INFO 24800 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
10:10:47:604  INFO 24800 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
10:10:47:667  INFO 24800 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 4.208 seconds (JVM running for 4.663)
10:10:47:973  INFO 24800 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Receive server push request, request = NotifySubscriberRequest, requestId = 140
10:10:47:985  INFO 24800 --- [nacos-grpc-client-executor-9] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Ack server push request, request = NotifySubscriberRequest, requestId = 140
10:21:20:412  INFO 24800 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
10:21:20:413  INFO 24800 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
10:21:20:417  INFO 24800 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
10:21:20:547  INFO 24800 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
10:21:20:842  INFO 24800 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
10:21:20:848 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
10:21:20:866 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1850724498355232769(Long)
10:21:20:885 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
10:21:20:920 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
10:21:20:922 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1850724502780235779(Long), 1850724498355232769(Long), 1850724502780235778(Long), 1(Long), balance(String), 55700(Integer), 5(Integer), 1(Integer), 2024-10-28T12:21:20.917194100(LocalDateTime)
10:21:20:926 DEBUG 24800 --- [http-nio-8086-exec-1] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
10:21:23:033 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE id=?
10:21:23:034 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : ==> Parameters: 1850724502780235779(Long)
10:21:23:038 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.p.mapper.PayOrderMapper.selectById   : <==      Total: 1
10:21:23:040 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> PUT http://user-service/users/money/deduct?pw=123&amount=55700 HTTP/1.1
10:21:23:040 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] user-info: 1
10:21:23:040 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> END HTTP (0-byte body)
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- HTTP/1.1 200 (158ms)
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] connection: keep-alive
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] content-length: 0
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] date: Mon, 28 Oct 2024 02:21:23 GMT
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] keep-alive: timeout=60
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] 
10:21:23:199 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- END HTTP (0-byte body)
10:21:23:205 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.update     : ==>  Preparing: UPDATE pay_order SET status=?,pay_success_time=? WHERE (id = ? AND status IN (?,?))
10:21:23:206 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.update     : ==> Parameters: 3(Integer), 2024-10-28T10:21:23.200229900(LocalDateTime), 1850724502780235779(Long), 0(Integer), 1(Integer)
10:21:23:207 DEBUG 24800 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.update     : <==    Updates: 1
10:21:23:208 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] ---> PUT http://trade-service/orders/1850724498355232769 HTTP/1.1
10:21:23:208 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] user-info: 1
10:21:23:208 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] ---> END HTTP (0-byte body)
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] <--- HTTP/1.1 200 (46ms)
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] connection: keep-alive
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] content-length: 0
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] date: Mon, 28 Oct 2024 02:21:23 GMT
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] keep-alive: timeout=60
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] 
10:21:23:254 DEBUG 24800 --- [http-nio-8086-exec-2] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] <--- END HTTP (0-byte body)
10:21:23:657  INFO 24800 --- [nacos-grpc-client-executor-148] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Receive server push request, request = NotifySubscriberRequest, requestId = 151
10:21:23:658  INFO 24800 --- [nacos-grpc-client-executor-148] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Ack server push request, request = NotifySubscriberRequest, requestId = 151
10:21:23:768  INFO 24800 --- [nacos-grpc-client-executor-149] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Receive server push request, request = NotifySubscriberRequest, requestId = 152
10:21:23:768  INFO 24800 --- [nacos-grpc-client-executor-149] com.alibaba.nacos.common.remote.client   : [f4e137b0-250b-43cd-8186-d640b2fd47fd] Ack server push request, request = NotifySubscriberRequest, requestId = 152
